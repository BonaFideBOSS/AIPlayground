{% extends 'common.html' %}
{% set page_title = "AI Chat" %}

{% block style %}
<style>
  .navbar {
    position: -webkit-sticky;
    position: sticky;
    top: 0;
    z-index: 1020;
    background-color: var(--bs-white);
  }

  footer {
    opacity: 0;
  }

  .form-container {
    background: linear-gradient(to bottom, transparent, #fff);
  }

  pre,
  code {
    background-color: var(--bs-dark);
    color: var(--bs-light);
    border-radius: var(--bs-border-radius) !important;
  }

  pre {
    padding: 0.5rem;
  }

  code {
    padding: 0.25rem;
  }

  .ai-response p:last-child {
    margin-bottom: 0;
  }
</style>
{% endblock %}

{% block body %}
<div class="container mt-5">
  <h1 class="display-4 fw-bold text-primary mb-5">AI Chat</h1>

  <div id="chat"></div>

  <div class="form-container container py-2 pt-lg-5 pb-lg-3 fixed-bottom">
    <form id="send-message" class="bg-white p-2 p-md-3 shadow-lg rounded-3 border border-2 border-primary">
      <div class="input-group input-group-lg">
        <input id="message" name="message" type="text" class="form-control border-0" placeholder="Type here..."
          autocomplete="off">
        <button class="btn text-primary border-0" type="submit"><i class="bi bi-send"></i></button>
      </div>
    </form>
  </div>
  {% endblock %}

  {% block script %}
  <script src="{{url_for('static',filename='js/showdown.js')}}"></script>
  <script src="{{url_for('static',filename='js/model/aichat.js')}}"></script>
  {% endblock %}